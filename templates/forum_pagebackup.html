{% extends 'forums.html' %}
{% block forum %} 
<h1>{{ forum.forum_name }}</h1>
{{ forum.forum_desc }}<br> <br>
<script>

</script>
{% for post in posts %}
	<div class="post">
		<div align="right" id={{ loop.index }}>
				{% if post.post_id not in flags %}
				<button class="but_class" id="but{{ loop.index }}">Flag/Report Post For Removal</button>
				<div class="hidden" id="Flag_Form">
				<p id="Flag_Form{{ loop.index }}" >Why should this post be removed?
				<form id="Flagging_form" action="/forums/flag/{{ post.post_id }}" method="POST">
				<input type="radio" name="flag_rad" value="abusive">Abusive
				<input type="radio" name="flag_rad" value="trolling">Trolling
				<input type="radio" name="flag_rad" value="off_topic">Off-Topic
				<input type="radio" name="flag_rad" value="other">Other
				<input type="submit" id="Flag_Post_but" value="Flag Post">
				{% else %} <p> "You have flagged this post for removal!" </p> {% endif %}
			</form></p></div><br>
			
			<div align="left"><b>{{ post.username }}:</b> {{ post.content }}</div>

			<p style="text-align:left;"><a href="/forums/like/{{ post.post_id }}">Like</a>({{ post.like_num }})/<a href="/forums/dislike/{{ post.post_id }}">Dislike</a>({{ post.dislike_num }}) <span style="float:right;"> Posted: {{ post.date_posted }}</span></p>

	</div></div>



{% endfor %}
<div>
<form action="/forums/{{ forum.forum_id }}" method="POST"><br>
<b>New Post:</b>
<br><textarea rows="6" cols="50" name="content"></textarea><br>
<br><input type=submit>
</form>
</div>
<script>
"use strict"


for i

let flagBut = document.querySelectorAll('#but_class');
console.log(flagBut)
let flag_len = flagBut.length;

function flag(evt) {
	evt.preventDefault();
	let flag_item = $getElementById()
	console.log(parent_id)
	let button = getElementById("'#but" + parent_id +"'");
	let flag_form = $("'#Flag_Form" + parent_id + "'");
	$(button).hide();
	$(flag_form).show();
	
}

// for (let i = 0; i < flaglen; i += 1) {
// 	flagBut[i].addEventListener('click', flag);
// }

</script>
{% endblock %}